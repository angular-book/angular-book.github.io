"use strict";(self.webpackChunkangular_book_github_io=self.webpackChunkangular_book_github_io||[]).push([[6519],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>h});var r=a(7294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var l=r.createContext({}),u=function(e){var t=r.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},p=function(e){var t=u(e.components);return r.createElement(l.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),c=u(a),m=n,h=c["".concat(l,".").concat(m)]||c[m]||d[m]||o;return a?r.createElement(h,i(i({ref:t},p),{},{components:a})):r.createElement(h,i({ref:t},p))}));function h(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,i=new Array(o);i[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[c]="string"==typeof e?e:n,i[1]=s;for(var u=2;u<o;u++)i[u]=a[u];return r.createElement.apply(null,i)}return r.createElement.apply(null,a)}m.displayName="MDXCreateElement"},9328:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>u});var r=a(7462),n=(a(7294),a(3905));const o={},i="Using Libraries to Structure Your Application",s={unversionedId:"Getting-Real/Libraries/overview",id:"Getting-Real/Libraries/overview",title:"Using Libraries to Structure Your Application",description:"I find the best libraries (like the best frameworks, below) emerge sort of organically from a code base. They often start as a utils file or package. The junk drawer. The dumping ground for all the non-cohesive stuff in your application. Functions for manipulating dates, validating data, reading files, etc. You begin to notice a general coherence around some of the stuff in that junk drawer. You clean it up a little, add some concepts around it. Then other people in the project start using your stuff. They think they are general utilities even though you created them for your specific use.",source:"@site/docs/03-Getting-Real/03-Libraries/00-overview.md",sourceDirName:"03-Getting-Real/03-Libraries",slug:"/Getting-Real/Libraries/overview",permalink:"/docs/Getting-Real/Libraries/overview",draft:!1,tags:[],version:"current",sidebarPosition:0,frontMatter:{},sidebar:"realWorld",previous:{title:"TypeScript Programming",permalink:"/docs/Getting-Real/TypeScript/typescript"},next:{title:"Managing State in Angular Applications",permalink:"/docs/Getting-Real/State Management/overview"}},l={},u=[],p={toc:u},c="wrapper";function d(e){let{components:t,...a}=e;return(0,n.kt)(c,(0,r.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"using-libraries-to-structure-your-application"},"Using Libraries to Structure Your Application"),(0,n.kt)("p",null,"I find the best libraries (like the best frameworks, below) emerge sort of organically from a code base. They often start as a ",(0,n.kt)("inlineCode",{parentName:"p"},"utils")," file or package. The junk drawer. The dumping ground for all the non-cohesive stuff in your application. Functions for manipulating dates, validating data, reading files, etc. You begin to notice a general coherence around some of the stuff in that junk drawer. You clean it up a little, add some concepts around it. Then other people in the project start using your stuff. They think they are ",(0,n.kt)("em",{parentName:"p"},"general")," utilities even though you created them for your specific use."),(0,n.kt)("p",null,"During a retrospective you show up a minute or two late, as is your style. You notice everyone is looking at your nervously. Turns out that big outage we just had? It was ",(0,n.kt)("em",{parentName:"p"},"your fault"),". Joe had used your utilities for writing to a file and they found that your code sucks! It doesn't close the file when it is done!"),(0,n.kt)("p",null,"Meanwhile, you didn't even know anybody was using this stuff! You knew when you created it that closing (and opening) the file was ",(0,n.kt)("em",{parentName:"p"},"your")," responsibility. You just hadn't added it to the functions yet. It's on your personal backlog."),(0,n.kt)("p",null,"It wasn't created for ",(0,n.kt)("em",{parentName:"p"},"general")," use, it was created for a specific use. ",(0,n.kt)("em",{parentName:"p"},"Yours"),"."),(0,n.kt)("p",null,"Most software is created by teams of people. Does this mean that ",(0,n.kt)("em",{parentName:"p"},"every stinking line of code")," we write has to be ",(0,n.kt)("em",{parentName:"p"},"crafted")," and ",(0,n.kt)("em",{parentName:"p"},"tested")," for every conceivable use by any old developer that could stumble upon it? Talk about not only ",(0,n.kt)("em",{parentName:"p"},"velocity")," killing, but also ",(0,n.kt)("em",{parentName:"p"},"ambition")," killing. It might be understandable if you resort to a mindset that says \"Ok, I'll do ",(0,n.kt)("em",{parentName:"p"},"all")," the logic in my component for now on! No way anybody is going to be able to reach into ",(0,n.kt)("em",{parentName:"p"},"that"),' and abuse my beautiful code!".'),(0,n.kt)("p",null,"But people are using your code for a reason. As an expedient. And it is, overall, pretty awesome and helpful. At that point you and your team need to make a decision. This code was written as a side-effect of solving a problem in ",(0,n.kt)("em",{parentName:"p"},"this application")," (in other words, it works in this specific use case, but isn't designed for more general use)."),(0,n.kt)("p",null,"That ",(0,n.kt)("em",{parentName:"p"},"might")," be the time when you invest in converting your beloved secret ",(0,n.kt)("inlineCode",{parentName:"p"},"utils")," package into a library."),(0,n.kt)("p",null,"Extract it out of the application. Make it a Nuget package, an NPM package, a Go Module, or whatever. Hell, if it is ",(0,n.kt)("em",{parentName:"p"},"that")," good, make one of each! And that library would be written (re-written) to anticipate more ",(0,n.kt)("em",{parentName:"p"},"general")," use. It would be documented for that. It would have tests that prove how it can be used ",(0,n.kt)("em",{parentName:"p"},"generally")," (usually meaning more low-level tests like Unit Tests)."),(0,n.kt)("p",null,"And ",(0,n.kt)("em",{parentName:"p"},"if")," your application wants to use this library, then you sign a contract, so to speak. Your application takes a ",(0,n.kt)("em",{parentName:"p"},"dependency")," on that library, and, better, a specific version of that library. It's right there in your ",(0,n.kt)("inlineCode",{parentName:"p"},"package.json"),", or ",(0,n.kt)("inlineCode",{parentName:"p"},".csproj"),", or the archetype for your Maven project or whatever. And if I update that library, or change it in any way, I will change the version number. You can decide if you want to take that on or not."),(0,n.kt)("p",null,"Basically you are saying when you create a library that your code has a good way of doing some specific thing. It has some level of reliability, it has been tested, documented, etc. It's a big undertaking, but it is ",(0,n.kt)("em",{parentName:"p"},"often")," worth it for you and your team and perhaps the entire company/enterprise. Heck, maybe even bigger than that! You could open source that library and start giving back for a change, you mooch!"),(0,n.kt)("p",null,"The point being here that both libraries and frameworks are usually best if they are ",(0,n.kt)("em",{parentName:"p"},"extracted")," from a proven use (application). Over the life of developing an application you start seeing some glitches in the matrix. Deja vu. You are doing the same thing, generally, over and over again. You create some code to save you some time. Other people start using that code. Without some kind of acknowledgement that this is happening, you end up with a dependency nightmare. A lot of resentment. And your code base tends towards ",(0,n.kt)("em",{parentName:"p"},"solidity")," (as opposed to fexibility)."),(0,n.kt)("p",null,'Know when the code you have written has crossed over from application code into library or framework code. Make your application project structure put some guardrails around casual "code reuse".'))}d.isMDXComponent=!0}}]);